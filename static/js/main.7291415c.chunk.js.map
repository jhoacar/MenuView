{"version":3,"sources":["components/GetComponents/StorageIndexedDB.js","components/ViewComponents/ImageCarousel.js","components/ViewComponents/DescriptionView.js","components/GetComponents/Getters.js","components/ViewComponents/ProductView.js","components/ViewComponents/CategoryView.js","components/ViewComponents/PageView.js","components/GetComponents/Constants.js","components/ReducersComponents/MenuReducer.js","components/ViewComponents/PageCategories.js","components/ViewComponents/MenuView.js","components/ReducersComponents/PageReducer.js","components/ReducersComponents/CategoryReducer.js","components/ReducersComponents/ProductReducer.js","components/ReducersComponents/GlobalReducer.js","App.js","index.js"],"names":["db","nameStoreDBB","nameKey","indexedDBB","window","indexedDB","fetchData","srcImage","resolveData","rejectData","fileReader","FileReader","fetch","then","response","blob","imageBlob","type","includes","onload","evt","result","target","readAsDataURL","catch","error","getImage","Promise","resolve","reject","request","open","onsuccess","transaction","objectStore","get","onerror","event","console","log","searchAtDBB","dataImage","data","add","saveAtDBB","onupgradeneeded","createObjectStore","keyPath","ImageCarousel","listImages","className","setVisibleImage","marginCategory","firstImage","useState","actualImage","setActualImage","listSRC","setListSRC","indexToLoad","setIndexToLoad","maxImages","length","useEffect","changeNextImage","nextImage","changePrevImage","prevImage","style","display","flexDirection","transform","overflow","width","height","onClick","position","right","zIndex","cursor","top","left","alignItems","justifyContent","map","indexImage","transition","opacity","src","alt","DescriptionView","description","existsImage","Array","isArray","undefined","visibleImage","srcImageLoaded","setSrcImageLoaded","imageLoaded","setImageLoaded","imageFound","setImageFound","routeImages","ProductView","product","refShowMore","useRef","refProduct","hasDescriptionProduct","hasDetailsProduct","details","hasImageProduct","images","hasPrice","prices","hasOnePrice","hasMuchPrices","activeButton","firstClick","setFirstClick","click","setClick","showInfo","classImage","classDescription","clickHandler","current","classList","remove","ref","ReactDOM","render","background","name","price","indexPrice","CategoryView","category","isSubCategory","refShowProducts","hasImageCategory","image","hasDescriptionCategory","onError","hasProducts","products","hasSubCategories","categories","indexProduct","subcategory","indexSubCategory","showAllProducts","PageView","page","indexPage","show","position_page","maxPages","existsAnyCategory","pageStyle","transformOrigin","parseInt","id","tittle","indexCategory","MENU","ACTIONS_MENU","menuReducer","state","action","payload","element","newPages","size","index","pages","slice","filter","Object","assign","splice","actualPage","changePage","connect","dispatch","goToPage","numPage","setTimeout","scrollTo","behavior","clicks","setClicks","listCategories","push","getCategories","borderRadius","resetPage","existsAnyPage","existsPages","ACTIONS_PAGE","pageReducer","statePage","text","ACTIONS_CATEGORY","categoryReducer","stateCategory","ACTIONS_PRODUCT","CHANGE_DESCRIPTION","CHANGE_PRICE","productReducer","stateProduct","isNaN","getHierarchicalArray","hierarchicalArray","auxElement","parent","globalReducer","activeAlert","alert","json","actualCategory","pop","setCategoryPage","loadCategory","shift","loadProduct","App","setData","headers","myJson","store","createStore","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7291415c.chunk.js","sourcesContent":["//Procesamiento de IndexedDBB\n\n//Revisamos que exista el recurso en la base de datos\n//Si existe sera resuelta la promesa con el recurso encontrado\n//Si no se encuentra en la base de datos\n//La solicitamos al servidor; procesamos la peticion\n//Si todo fue exitoso, resolvemos la promesa con el recurso solicitado,\n// y luego guardamos el recurso en la base de datos\n//Si ocurre algun error en la peticion se rechaza la promesa\n\nconst nameDBB = \"imagesMenu\";\nconst nameStoreDBB = \"srcImages\";\nconst versionDBB = 1;\nconst nameKey = \"srcImage\";\nconst nameValue = \"dataImage\";\n\nconst indexedDBB = window.indexedDB;\nlet db;\n\nconst fetchData = function (srcImage, resolveData, rejectData) {\n\n  const fileReader = new FileReader();\n\n  fetch(srcImage)\n    .then(response => {\n      return response.blob();\n    })\n    .then(imageBlob => {\n\n      if (!imageBlob.type.includes(\"image\"))\n        rejectData(\"La respuesta fue texto, no se cargara el recurso\");\n\n      if (imageBlob.type.includes(\"image\")) {\n\n        fileReader.onload = function (evt) {\n          const result = evt.target.result;\n          resolveData(result);\n        };\n\n        fileReader.readAsDataURL(imageBlob);\n\n      }\n    })\n    .catch(error => rejectData(error))\n\n\n}\n\nconst saveAtDBB = function (srcImage, dataImage) {\n\n  const data = {};\n  data[nameKey] = srcImage;\n  data[nameValue] = dataImage;\n\n  const transaction = db.transaction([nameStoreDBB], \"readwrite\");\n  const objectStore = transaction.objectStore(nameStoreDBB);\n  try {\n    const request = objectStore.add(data);\n    request.onerror = error => { console.log(\"Ocurrio un error en guardar en la base de datos: \",error)};\n    request.onsuccess = event => { console.log(\"Todo funciono de maravilla y se guardo: \", event)};\n  } catch (error) {\n    console.log(\"Ocurrio un error en escritura de la base de datos: \",error)\n  }\n}\n\n\nconst searchAtDBB = function (srcImage) {\n\n  return new Promise((resolve, reject) => {\n\n    const transaction = db.transaction([nameStoreDBB], \"readonly\");\n    const objectStore = transaction.objectStore(nameStoreDBB);\n\n    const request = objectStore.get(srcImage);\n\n    request.onerror = () => reject(\"Ocurrio algo al leer en la base de datos\");\n\n    request.onsuccess = function (event) {\n      if (request.result) {\n        console.log(\"Se encontro la imagen\"+srcImage+\" en la base de datos y se va a cargar\");\n        resolve(request.result[nameValue]);\n      }\n      else {\n        console.log(\"No se encontro la imagen\"+srcImage+\"en la base de datos\");\n        reject(\"No se encontro la imagen en la base de datos\");\n      }\n    };\n\n  });\n}\n\n\nexport const getImage = function (srcImage) {\n\n  return new Promise((resolve, reject) => {\n\n    if (!indexedDBB)\n      reject(\"No admite indexedDB\");\n\n    const request = indexedDBB.open(nameDBB, versionDBB);\n    \n    request.onsuccess = () => {\n      db = request.result;\n\n      searchAtDBB(srcImage)\n        .then(response => {\n          resolve(response);\n        })\n        .catch(() => {\n          fetchData(srcImage,result=>{\n            saveAtDBB(srcImage, result);\n            resolve(result);\n          }, \n          error=>reject(error));\n        })\n    };\n\n    //Esto se ejecuta si no existe la base de datos entonces la crea\n    request.onupgradeneeded = event => {\n      db = event.target.result;\n      db.createObjectStore(nameStoreDBB, { keyPath: nameKey });\n    };\n\n    request.onerror = error => {\n      fetchData(srcImage, result=>resolve(result), error=>reject(error))\n    };\n\n  });\n\n}","import React, { useEffect, useState } from 'react';\nimport { GrFormNext, GrFormPrevious } from 'react-icons/gr';\nimport { getImage } from '../GetComponents/StorageIndexedDB';\n\nconst routeImages = \"/images/\";\n \n\nconst ImageCarousel = ({ listImages, className, setVisibleImage, marginCategory, firstImage }) => {\n\n    const [changePage, setChange] = useState(false);\n    const [actualImage, setActualImage] = useState(0);\n    const [startPosX, setStartPosX] = useState(-1);\n\n    const [listSRC, setListSRC] = useState([firstImage]);\n\n    const [indexToLoad, setIndexToLoad] = useState(1);\n\n    const maxImages = listSRC?.length;\n    \n    useEffect(() => {\n\n        if (indexToLoad < listImages.length) {\n            getImage(routeImages+listImages[indexToLoad])\n            .then(response=>setListSRC(listSRC => [...listSRC, response]))\n            .catch(error=>console.log(error));\n            setIndexToLoad(indexToLoad + 1)\n        }\n    }, [listImages, indexToLoad])\n\n    const changeNextImage = function () {\n\n        let nextImage = actualImage;\n\n        if (listSRC && actualImage < listSRC.length - 1)\n            nextImage = nextImage + 1;\n        else if (listSRC && actualImage === listSRC.length - 1)\n            nextImage = 0;\n\n        setActualImage(nextImage);\n    }\n\n    const changePrevImage = function () {\n\n        let prevImage = actualImage;\n\n        if (listSRC && actualImage > 0)\n            prevImage = prevImage - 1;\n        else if (listSRC && actualImage === 0)\n            prevImage = listSRC.length - 1;\n\n        setActualImage(prevImage);\n    }\n    // eslint-disable-next-line\n    const dragStart = function (clientX) {\n\n        setChange(true);\n        setStartPosX(clientX)\n\n        // if (clientX >= 0 && clientX <= 1 && direction === NoDirection)\n        //     setDirection(LeftDirection); // 1 para indicar que se selecciono la parte derecha de la pantalla\n        // if (clientX >= 0 && clientX <=1 && direction === NoDirection)\n        //     setDirection(RightDirection); // 0 para indicar que se selecciono la parte izquierda de la pantalla\n        // else\n        //     setDirection(NoDirection); //-1 para indicar que no se ha escogido un lugar clave para realizar cambio de pagina\n    }\n    // eslint-disable-next-line\n    const dragging = function (clientX) {\n\n        if (startPosX - clientX > 0.05 && changePage) { //Next Image\n            changeNextImage();\n            setChange(false);\n            //setDirection(NoDirection);\n        }\n        else if (clientX - startPosX > 0.05 && changePage) { //Prev Image\n            changePrevImage();\n            setChange(false);\n            //setDirection(NoDirection);\n        }\n\n    }\n\n    return (\n        <div\n            //onPointerEnter={e => { dragStart(e.clientX / window.innerWidth) }}\n            //onPointerMove={e => { dragging(e.clientX / window.innerWidth) }}\n            style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                transform: \"translateX(-\" + (marginCategory + 1) * 10 + \"px)\",\n                overflow: \"hidden\",\n                width: '100vw',\n                height: '100%',\n            }}\n        >\n            {maxImages > 1 &&\n                <div\n                    onClick={changeNextImage}\n                    style={{\n                        position:'absolute',\n                        right:0,\n                        zIndex:1,\n                        cursor:'pointer',\n                        height: \"100%\"\n                    }}>\n                    <GrFormNext\n                        className=\"btn-change-page-svg\"\n                        style={{\n                            position:'relative',\n                            top:'50%'\n                        }}\n                    />\n                </div>\n            }\n            {maxImages > 1 &&\n                <div\n                    onClick={changePrevImage}\n                    style={{\n                        position:'absolute',\n                        height: \"100%\",\n                        left:0,\n                        zIndex:1,\n                        cursor:'pointer'\n                    }}\n                >\n                    <GrFormPrevious\n                        className=\"btn-change-page-svg\"\n                        style={{\n                            position:'relative',\n                            top:'50%'\n                        }}\n                    />\n                </div>\n            }\n            <div style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                transform: \"translateX(-\" + (marginCategory + 1) * 0 + \"px)\",\n            }}>\n                {listSRC.map(function (srcImage, indexImage) {\n\n                    return <img\n                        onClick={() => setVisibleImage(false)}\n                        style={{\n                            transition: \"opacity 1s\",\n                            opacity: indexImage === actualImage ? 1 : 0,\n                            transform: indexImage === actualImage ? \"translateX(-\" + (indexImage) * (100) + \"vw)\" : \"translateX(0vw)\",\n                            display: \"flex\",\n                            justifyContent: \"center\",\n                            alignItems: \"center\"\n                        }}\n                        key={srcImage}\n                        src={srcImage}\n                        alt=\"\"\n                        className={className}\n                    />\n\n                })}\n            </div>\n        </div>\n    );\n};\n\nexport default ImageCarousel;","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { getImage } from '../GetComponents/StorageIndexedDB';\nimport { getDefaultImage } from '../GetComponents/Getters';\nimport { AiOutlineLoading } from 'react-icons/ai';\n\nimport ImageCarousel from './ImageCarousel';\n\nconst routeImages = \"/images/\";\n\n\nconst DescriptionView = ({ srcImage, description, marginCategory }) => {\n\n    const existsImage = srcImage && Array.isArray(srcImage);\n\n    const firstImage = existsImage ? srcImage[0] : undefined;\n\n    const [visibleImage, setVisibleImage] = useState(false);\n\n    const [srcImageLoaded, setSrcImageLoaded] = useState(0);\n\n    const [imageLoaded, setImageLoaded] = useState(false);\n\n    const [imageFound, setImageFound] = useState(false);\n\n    useEffect(() => {\n\n        getDefaultImage()\n            .then(response => setSrcImageLoaded(response))\n            .catch(error => console.log(error));\n\n        getImage(routeImages + firstImage)\n            .then(response => {\n                setImageFound(true);\n                setImageLoaded(true);\n                setSrcImageLoaded(response);\n            }\n            ).catch(error => {\n                setImageLoaded(true);\n                console.log(error);\n            })\n    }, [firstImage, setSrcImageLoaded])\n\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: visibleImage ? \"column\" : \"row\",\n            }}\n            className=\"description-container\"\n        >\n            {!imageLoaded &&\n                <div className=\"image-product\" style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n                    <AiOutlineLoading className=\"rotating\" />\n                </div>\n            }\n            {imageLoaded && existsImage && !visibleImage &&\n                <img\n                    className={\"image-product btn-not-pressed\"}\n                    alt=\"\"\n                    src={srcImageLoaded}\n                    onClick={() => {\n                        if (imageFound)\n                            setVisibleImage(!visibleImage)\n                    }}\n                />}\n            {imageLoaded && existsImage && visibleImage &&\n                <ImageCarousel\n                    setVisibleImage={setVisibleImage}\n                    className={\"image-product-view\"}\n                    listImages={srcImage}\n                    firstImage={srcImageLoaded}\n                    marginCategory={marginCategory}\n                />\n            }\n            {description &&\n                <span\n                    className={!visibleImage ? \"description-product\" : \"description-product-view\"}>\n                    {description}\n                </span>}\n        </div>\n    );\n};\n\nexport default DescriptionView;","import { getImage } from './StorageIndexedDB';\n\nconst routeImages = \"/images/\";\n\nexport const fetchData = function (setData) {\n  fetch('/data.json', { headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' } })\n    .then(function (response) {\n      console.log(response);\n      return response.json();\n    })\n    .then(function (myJson) {\n      console.log(myJson);\n      setData(myJson)\n    }).catch((error) => {\n      console.log(\"Paso algo con la lectura de la info \",error);\n      setData({pages:[]});\n    });\n}\n\nexport const getDefaultImage =  function(){\n  return getImage(routeImages+'default-image.svg');\n}","import React, { useRef, useState } from 'react'\nimport ReactDOM from 'react-dom';\n\nimport '../../styles/product.scss'\n\nimport DescriptionView from './DescriptionView';\n\n\n\nconst ProductView = function ({ product, marginCategory }) {\n\n    const refShowMore = useRef(null);\n    const refProduct = useRef(null);\n\n    const hasDescriptionProduct = product && product?.description;\n    const hasDetailsProduct = product && product?.details;\n    const hasImageProduct = product && product?.images;\n\n    const hasPrice = product && product?.prices;\n    const hasOnePrice = hasPrice && Array.isArray(product.prices) && product.prices.length === 1;\n    const hasMuchPrices = hasPrice && Array.isArray(product.prices) && product.prices.length > 1;\n\n\n    const activeButton = hasImageProduct || hasDescriptionProduct;\n\n    const [firstClick, setFirstClick] = useState(false);\n\n    const [click, setClick] = useState(false);\n\n\n\n    const switchClick = function () {\n\n        if (!firstClick && refShowMore.current && click) {\n            ReactDOM.render(showInfo(), refShowMore.current);\n            setFirstClick(true);\n        }\n        else if (firstClick && refShowMore.current && click)\n            refShowMore.current.style.display = \"block\";\n        else if (firstClick && refShowMore.current && !click)\n            refShowMore.current.style.display = \"none\";\n\n        return true;\n\n    }\n\n    const showInfo = function () {\n\n        return (hasImageProduct || hasDescriptionProduct) &&\n            <DescriptionView\n                srcImage={product?.images}\n                description={product?.description}\n                marginCategory={marginCategory}\n                classImage=\"image-product\"\n                classDescription=\"description-product\"\n            />\n    };\n\n    const clickHandler = () => {\n\n        if (refProduct.current) {\n            if (!click) {\n                refProduct.current.classList.remove(\"btn-not-pressed\");\n                refProduct.current.classList.add(\"btn-pressed\");\n            }\n            else{\n                refProduct.current.classList.remove(\"btn-pressed\");\n                refProduct.current.classList.add(\"btn-not-pressed\");\n            }\n        }\n        setClick(!click);\n    };\n\n    return (\n        <li>\n            <div ref={refProduct} onClick={clickHandler} className=\"info-product btn-not-pressed\">\n                <div className=\"tittle-product\">\n\n                    {activeButton &&\n                        switchClick() &&\n                        <button\n                            style={{background:'#873117'}}\n                            className=\"btn-view-more\"\n                            onClick={clickHandler}\n                        >\n                            {click ? \"-\" : \"+\"}\n                        </button>}\n\n                    <div className=\"features-product\">\n\n                        <h3 className=\"name-product\">{product?.name}</h3>\n\n                        {hasDetailsProduct && <span className=\"details-product\">{product?.details}</span>}\n\n                    </div>\n                </div>\n\n                {!hasPrice && <span>No hay precio</span>}\n                {hasOnePrice &&\n                    <span className=\"single-price\">{product.prices[0].price}</span>\n                }\n                {hasMuchPrices &&\n                    <ul className=\"prices-products\">\n                        {product.prices.map((price, indexPrice) =>\n                            (price?.description || price?.price) &&\n                            <li className=\"price-product\" key={\"price\" + indexPrice}>\n                                {price?.description &&\n                                    <h4 className=\"description-price\">{price.description}</h4>}\n                                {price?.price &&\n                                    <span className=\"multiple-price\">{price.price}</span>}\n                            </li>\n                        )}\n                    </ul>\n                }\n            </div>\n            <div style={{ display: \"none\" }} ref={refShowMore} ></div>\n        </li>\n    );\n}\n\nexport default ProductView;\n","import React, { useRef } from 'react'\n\nimport ProductView from './ProductView'\n\nimport ButtonViewMore from '../Buttons/ButtonViewMore';\n\nimport '../../styles/category.scss';\n\nconst CategoryView = function ({ category, isSubCategory }) {\n\n    const refShowProducts = useRef(null);\n\n    const hasImageCategory = category && category?.image && category.image.length > 0;\n    const hasDescriptionCategory = category && category?.description;\n    const showButton = false;\n\n    const showAllProducts = function () {\n\n        const hasProducts = category && category?.products && Array.isArray(category.products) && category.products.length > 0;\n        const hasSubCategories = category && category?.categories && Array.isArray(category.categories) && category.categories.length > 0;\n        return (\n            <ul className=\"list-products\">\n                {hasProducts &&\n                    category.products.map((product, indexProduct) =>\n                        <ProductView \n                        marginCategory={isSubCategory} \n                        product={product} \n                        key={\"product\" + indexProduct} \n                        />\n\n                    )}\n\n                {hasSubCategories &&\n                    category.categories.map((subcategory, indexSubCategory) => (\n                        <li className=\"subcategory\" key={\"subcategory\" + indexSubCategory}>\n                            <CategoryView \n                            category={subcategory}\n                            isSubCategory={isSubCategory+1}\n                            />\n                        </li>\n                    ))}\n\n            </ul>\n        );\n    }\n\n    return (\n        <section className=\"category\">\n            <div className=\"info-category\">\n                {showButton &&\n                    <ButtonViewMore\n                        className=\"btn-view-more\"\n                        show={false}\n                        refElement={refShowProducts}\n                    />}\n                <h2 className=\"tittle-category\" >{category?.name}</h2>\n\n                {hasDescriptionCategory && <span className=\"description-category\">({category?.description})</span>}\n                \n                {hasImageCategory &&\n                    <img \n                    className=\"image-category\" \n                    alt={\"\"} \n                    src={\"/images/\"+category?.image} \n                    onError={event=>{event.target.style.display=\"none\";console.log(event.target)}}\n                    />\n                }\n            </div>\n\n            \n            <div style={{ opacity: 1 }} ref={refShowProducts} >{showAllProducts()}</div>\n        </section>\n    )\n}\n\nexport default CategoryView;","import React from 'react';\nimport CategoryView from './CategoryView';\n\nimport '../../styles/page.scss';\n\nconst PageView = function ({ page, indexPage, show, maxPages  }) {\n\n    const position_page = maxPages - indexPage;\n    const existsAnyCategory = page && page?.categories && Array.isArray(page.categories) && page.categories.length > 0;\n\n    const pageStyle = {\n        position: 'absolute',\n        opacity: show ? 1 : 0,\n        transform: show ? \"rotateY(0deg)\" : \"rotateY(90deg)\",\n        transformOrigin: \"left\",\n        zIndex: 10 * parseInt(position_page, 10),\n    };\n\n    return (\n        <div id={'page' + indexPage} style={pageStyle} className=\"page\">\n            <h1 className=\"page-tittle\">{page?.tittle}</h1>\n            {existsAnyCategory &&\n                page?.categories.map((category, indexCategory) => \n                        <CategoryView\n                            category={category}\n                            key={\"category\" + indexCategory}\n                            isSubCategory={0}\n                        />\n                )}\n        </div>\n    )\n\n}\n\nexport default PageView;","export const ALERT = \"alerta\";\nexport const MENU =\"menu\";\nexport const PAGE = \"page\";\nexport const CATEGORY = \"category\";\nexport const PRODUCT = \"product\"\nexport const IMAGE = \"imagen\";\nexport const DESCRIPTION = \"descripcion\";\nexport const PRICES = \"precios\";\nexport const DETAILS = \"detalles\";\n","import { MENU } from '../GetComponents/Constants';\n\nexport const ACTIONS_MENU = {\n    ADD_PAGE: \"agregar pagina\",\n    DELETE_PAGE: \"borrar pagina\",\n    MOVE_PAGE: \"mover pagina\",\n    NEXT_PAGE: \"pagina siguiente\",\n    PREV_PAGE: \"pagina anterior\",\n    RESET_PAGE: \"reiniciar paginas\",\n    CHANGE_PAGE: \"cambiar pagina\",\n    MOVE_UP_PAGE: \"mover arriba la pagina\",\n    MOVE_DOWN_PAGE: \"mover para abajo la pagina\"\n}\nconst menuReducer = (state, action) => {\n\n    if (action.payload.element.name !== MENU) return state;\n\n    let indexPage, newPages, page, size;\n\n    switch (action.type) {\n\n        case ACTIONS_MENU.ADD_PAGE:\n\n            indexPage = action.payload.index;\n\n            return {\n                ...state,\n                pages: [\n                    ...state.pages.slice(0, indexPage + 1),\n                    { tittle: \"Titulo (\" + (state.pages.length + 1) + \")\", categories: [] },\n                    ...state.pages.slice(indexPage + 1)\n                ]\n            };\n\n        case ACTIONS_MENU.DELETE_PAGE:\n\n            indexPage = action.payload.index;\n\n            return {\n                ...state,\n                pages: state.pages.filter((page, index) => index !== indexPage)\n            };\n\n        case ACTIONS_MENU.MOVE_UP_PAGE:\n\n            newPages = Object.assign([], state.pages);\n            page = newPages[action.payload.index];\n            size = newPages.length;\n            newPages = newPages.filter((page, index) => index !== action.payload.index);\n            indexPage = action.payload.index > 0 ? action.payload.index - 1 : size - 1;\n            newPages.splice(indexPage, 0, page);\n\n            return {\n                ...state,\n                pages: newPages\n            }\n\n        case ACTIONS_MENU.MOVE_DOWN_PAGE:\n\n            newPages = Object.assign([], state.pages);\n            page = newPages[action.payload.index];\n            size = newPages.length;\n            newPages = newPages.filter((page, index) => index !== action.payload.index);\n            indexPage = action.payload.index < size - 1 ? action.payload.index + 1 : 0;\n            newPages.splice(indexPage, 0, page);\n\n            return {\n                ...state,\n                pages: newPages\n            }\n        case ACTIONS_MENU.RESET_PAGE:\n\n            return {\n                ...state,\n                actualPage: 0\n            }\n        case ACTIONS_MENU.CHANGE_PAGE:\n\n            return {\n                ...state,\n                actualPage: action.payload.changePage\n            }\n\n        default:\n            return state;\n    }\n};\n\nexport default menuReducer;","import React from 'react';\nimport { MENU } from '../GetComponents/Constants';\nimport { ACTIONS_MENU } from '../ReducersComponents/MenuReducer';\nimport { connect } from 'react-redux';\n\nconst PageCategories = ({ pages, goToPage, clicks, setClicks, show }) => {\n\n    const getCategories = function (pages) {\n\n        let listCategories = [];\n\n        pages.map((page, indexPage) => {\n            const categories = page.categories;\n            return categories.map(category => listCategories.push({ name: category.name, page: indexPage+1 }));\n        });\n\n        return listCategories;\n    }\n\n    const listCategories = getCategories(pages);\n\n    return (\n        <div style={{\n            position:'absolute',\n            zIndex:show?(pages.length+2)*10:-1,\n            width:'100%',\n            height:'100%',\n            opacity:show?1:0,\n            transform: show? \"rotateY(0deg)\" : \"rotateY(90deg)\",\n            transformOrigin: \"left\"\n        }}\n        >\n            <h1 className=\"page-tittle\" >{pages[0].tittle}</h1>\n            {\n                listCategories.map((category, indexCategory) =>\n                    <div key={\"category\" + indexCategory}>\n                        <span\n                            onClick={event => { goToPage(category.page); if (clicks < 2) setClicks(clicks + 1); }}\n                            style={{ borderRadius: \"10px\", cursor: \"pointer\" }} className=\"tittle-category btn-not-pressed\">\n                            {category.name}\n                        </span>\n                        <br />\n                    </div>\n                )\n            }\n\n            <br />\n        </div>\n    );\n};\n\nconst mapStateToProps = state => ({});\n\nconst mapDispatchToProps = dispatch => ({\n    goToPage(numPage) {\n        dispatch({\n            type: ACTIONS_MENU.CHANGE_PAGE,\n            payload: {\n                element: { name: MENU },\n                changePage: numPage\n            }\n\n        });\n        setTimeout(()=>window.scrollTo({ top: 0, behavior: 'smooth' }),0);\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PageCategories);","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport PageView from './PageView'\n// eslint-disable-next-line\n//import ButtonDraggPage from '../Buttons/ButtonDraggPage'\n//import ButtonChangePage from '../Buttons/ButtonChangePage';\n\nimport { ACTIONS_MENU } from '../ReducersComponents/MenuReducer';\nimport { MENU } from '../GetComponents/Constants';\n\nimport '../../styles/menu.scss'\nimport '../../styles/button.scss'\nimport PageCategories from './PageCategories';\n\nconst MenuView = function ({ pages, actualPage, resetPage }) {\n\n    const existsAnyPage = pages && Array.isArray(pages) && pages.length > 0\n    const existsPages = existsAnyPage && pages.length > 1;\n    const [clicks, setClicks] = useState(0);\n\n    return (\n        <div style={{ position: 'relative' }} className=\"menu\">\n\n            {existsPages && clicks === 1 &&\n                <span className=\"finger-pointing\">👆🏽</span>\n            }\n\n            {(!Array.isArray(pages) || pages.length < 1) &&\n                <span className=\"waiting-text\">{\"No hay Paginas para mostrar \\n\"}\n                    <strong>(Comuniquelo Por favor)</strong>\n                </span>}\n\n            {existsAnyPage &&\n                <PageCategories\n                    pages={pages}\n                    clicks={clicks}\n                    setClicks={setClicks}\n                    show={actualPage === 0}\n                />\n            }\n\n            {existsAnyPage &&\n                <div className=\"pages-container\">\n                    {pages && pages.map((page, indexPage) => (\n                        <PageView\n                            page={page}\n                            indexPage={indexPage + 1}\n                            show={indexPage + 1 === actualPage}\n                            maxPages={pages.length}\n                            key={\"page\" + indexPage}\n                        >\n                        </PageView>\n                    ))}\n                </div>\n            }\n            {actualPage !== 0 &&\n                <span\n                    onClick={() => { resetPage(); if (clicks < 2) setClicks(clicks + 1); }}\n                    style={{ zIndex: (pages.length + 2) * 10 }}\n                    className=\"btn-start btn-not-pressed\">Inicio</span>\n            }\n        </div>\n    )\n}\nconst mapStateToProps = state => ({\n    pages: state?.pages,\n    actualPage: state?.actualPage\n})\n\nconst mapDispatchToProps = dispatch => ({\n    resetPage() {\n        dispatch({\n            type: ACTIONS_MENU.RESET_PAGE,\n            payload: { element: { name: MENU } }\n        });\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuView);","export const ACTIONS_PAGE = {\n    CHANGE_TITTLE: \"cambiar titulo\",\n    CHANGE_DESCRIPTION: \"cambiar descripcion\",\n    ADD_CATEGORY: \"agregar categoria\",\n    DELETE_CATEGORY: \"eliminar categoria\",\n    MOVE_UP_CATEGORY: \"mover arriba categoria\",\n    MOVE_DOWN_CATEGORY: \"mover abajo categoria\"\n}\n\n\nconst pageReducer = (statePage, action) => {\n\n    let index, category, size;\n\n\n    switch (action.type) {\n\n        case ACTIONS_PAGE.CHANGE_TITTLE:\n\n            statePage.tittle = action.payload.text;\n\n            return statePage;\n\n        case ACTIONS_PAGE.ADD_CATEGORY:\n\n            index = action.payload.index===undefined ? -1 : action.payload.index;\n\n            statePage.categories.splice(index+1, 0,\n                {\n                    name: \"Nueva Categoria\",\n                    description: \"\",\n                    products: [],\n                    categories: []\n                });\n\n            return statePage;\n\n        case ACTIONS_PAGE.DELETE_CATEGORY:\n\n            index = action.payload.index;\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\n\n            return statePage;\n\n        case ACTIONS_PAGE.MOVE_UP_CATEGORY:\n\n            index = action.payload.index;\n            category = statePage.categories[index];\n            size = statePage.categories.length;\n\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\n\n            statePage.categories.splice(index > 0 ? index - 1 : size - 1, 0, category);\n\n            return statePage;\n\n        case ACTIONS_PAGE.MOVE_DOWN_CATEGORY:\n\n            index = action.payload.index;\n            category = statePage.categories[index];\n            size = statePage.categories.length;\n\n            statePage.categories = statePage.categories.filter((category, indexCategory) => indexCategory !== index);\n\n            statePage.categories.splice(index < size - 1 ? index + 1 : 0, 0, category);\n\n            return statePage;\n\n        default:\n\n            return statePage;\n    }\n}\n\nexport default pageReducer;","export const ACTIONS_CATEGORY = {\n    CHANGE_NAME: \"cambiar nombre categoria\",\n    CHANGE_DESCRIPTION: \"cambiar descripcion categoria\",\n    ADD_PRODUCT: \"agregar producto\",\n    DELETE_PRODUCT: \"eliminar producto\",\n    ADD_SUBCATEGORY: \"agregar subcategoria\",\n    DELETE_SUBCATEGORY: \"eliminar subcategoria\",\n    MOVE_UP_SUBCATEGORY: \"mover arriba subcategoria\",\n    MOVE_DOWN_SUBCATEGORY: \"mover abajo subcategoria\",\n    MOVE_UP_PRODUCT: \"mover arriba producto\",\n    MOVE_DOWN_PRODUCT: \"mover abajo producto\"\n}\n\n\n\nconst categoryReducer = (stateCategory, action) => {\n\n    let index, subcategory, product, size;\n\n    switch (action.type) {\n\n        case ACTIONS_CATEGORY.CHANGE_NAME:\n\n            stateCategory.name = action.payload.text;\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.CHANGE_DESCRIPTION:\n\n            stateCategory.description = action.payload.text;\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.ADD_PRODUCT:\n\n            index = action?.payload?.index === undefined ? -1 : action.payload.index;\n\n            if (!stateCategory.products)\n                stateCategory.products = [];\n\n            stateCategory.products.splice(index + 1, 0,\n                {\n                    name: \"Nuevo Producto \",\n                    details: \"\",\n                    description: \"\",\n                    prices: [],\n                    images: []\n                }\n            );\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.DELETE_PRODUCT:\n\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== action.payload.index);\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.ADD_SUBCATEGORY:\n\n            index = !action.payload.index ? -1 : action.payload.index;\n\n            if (!stateCategory.categories)\n                stateCategory.categories = [];\n\n            stateCategory.categories.splice(index + 1, 0,\n                {\n                    name: \"Subcategoria\",\n                    description: \"\",\n                    products: [],\n                    categories: []\n                }\n            );\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.DELETE_SUBCATEGORY:\n\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== action.payload.index);\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.MOVE_UP_PRODUCT:\n\n            index = action.payload.index;\n            product = stateCategory.products[index];\n            size = stateCategory.products.length;\n\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== index);\n\n            stateCategory.products.splice(index > 0 ? index - 1 : size - 1, 0, product);\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.MOVE_DOWN_PRODUCT:\n\n            index = action.payload.index;\n            product = stateCategory.products[index];\n            size = stateCategory.products.length;\n\n            stateCategory.products = stateCategory.products.filter((product, indexProduct) => indexProduct !== index);\n\n            stateCategory.products.splice(index < size - 1 ? index + 1 : 0, 0, product);\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.MOVE_UP_SUBCATEGORY:\n\n            index = action.payload.index;\n            subcategory = stateCategory.categories[index];\n            size = stateCategory.categories.length;\n\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== index);\n\n            stateCategory.categories.splice(index > 0 ? index - 1 : size - 1, 0, subcategory);\n\n            return stateCategory;\n\n        case ACTIONS_CATEGORY.MOVE_DOWN_SUBCATEGORY:\n\n            index = action.payload.index;\n            subcategory = stateCategory.categories[index];\n            size = stateCategory.categories.length;\n\n\n            stateCategory.categories = stateCategory.categories.filter((subcategory, indexSubCategory) => indexSubCategory !== index);\n\n            stateCategory.categories.splice(index < size - 1 ? index + 1 : 0, 0, subcategory);\n\n            return stateCategory;\n\n        default:\n\n            return stateCategory;\n    }\n}\n\nexport default categoryReducer;","\nexport const ACTIONS_PRODUCT = {\n\n    CHANGE_NAME: \"cambiar nombre producto\",\n    CHANGE_DESCRIPTION: \"cambiar descripcion\",\n    CHANGE_DETAILS: \"cambiar detalles\",\n    CHANGE_PRICES: {\n        CHANGE_DESCRIPTION: \"cambiar descripcion precio\",\n        CHANGE_PRICE: \"cambiar precio de descripcion\"\n    },\n    ADD_PRICE: \"agregar precio\",\n    ADD_IMAGE: \"agregar imagen\",\n    DELETE_IMAGE: \"eliminar imagen\",\n    MOVE_UP_IMAGE: \"mover arriba imagen\",\n    MOVE_DOWN_IMAGE: \"mover abajo imagen\"\n}\n\nconst productReducer = (stateProduct, action) => {\n\n    let indexPrice, text, indexImage, srcImage, size;\n\n\n    switch (action.type) {\n\n        case ACTIONS_PRODUCT.CHANGE_NAME:\n\n            stateProduct.name = action.payload.text;\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.CHANGE_DESCRIPTION:\n\n            stateProduct.description = action.payload.text;\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.CHANGE_DETAILS:\n\n            stateProduct.details = action.payload.text;\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.ADD_PRICE:\n\n            if (!stateProduct.prices)\n                stateProduct.prices = [];\n\n            stateProduct.prices.push({ description: \"PRICE\", price: 0 })\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.CHANGE_PRICES.CHANGE_DESCRIPTION:\n\n            indexPrice = action.payload.element.indexPrice;\n            text = action.payload.text;\n\n            if (!isNaN(indexPrice))\n                stateProduct.prices[indexPrice].description = text;\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.CHANGE_PRICES.CHANGE_PRICE:\n\n            indexPrice = action.payload.element.indexPrice;\n            text = action.payload.text;\n\n            //Si no hay ningun precio, entonces lo eliminamos de la lista de precios\n            if (!text.length)\n                stateProduct.prices = stateProduct.prices.filter((price, index) => index !== indexPrice)\n            else if (!isNaN(indexPrice))\n                stateProduct.prices[indexPrice].price = text;\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.ADD_IMAGE:\n\n            srcImage = action.payload.src;\n\n            if (!stateProduct?.images)\n                stateProduct.images = []\n\n            stateProduct.images.push(srcImage)\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.DELETE_IMAGE:\n\n            indexImage = action.payload.index;\n\n            stateProduct.images = stateProduct.images.filter((src, index) => index !== indexImage)\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.MOVE_UP_IMAGE:\n\n            indexImage = action.payload.index;\n            srcImage = stateProduct.images[indexImage];\n            size = stateProduct.images.length;\n\n            stateProduct.images = stateProduct.images.filter((src, index) => indexImage !== index);\n\n            stateProduct.images.splice(indexImage > 0 ? indexImage - 1 : size - 1, 0, srcImage);\n\n            return stateProduct;\n\n        case ACTIONS_PRODUCT.MOVE_DOWN_IMAGE:\n\n            indexImage = action.payload.index;\n            srcImage = stateProduct.images[indexImage];\n            size = stateProduct.images.length;\n\n            stateProduct.images = stateProduct.images.filter((src, index) => indexImage !== index);\n\n            stateProduct.images.splice(indexImage < size - 1 ? indexImage + 1 : 0, 0, srcImage);\n\n            return stateProduct;\n\n        default:\n\n            return stateProduct;\n    }\n};\n\nexport default productReducer;","import { ALERT, MENU, PAGE, CATEGORY, PRODUCT } from '../GetComponents/Constants';\n\nimport menuReducer from './MenuReducer';\nimport pageReducer from './PageReducer';\nimport categoryReducer from './CategoryReducer';\nimport productReducer from './ProductReducer';\n\n/*Ente encargado de distribuir la porcion del estado que va a cambiar a cada reducerComponent*/\n\nconst getHierarchicalArray = function (element) {\n    const hierarchicalArray = []\n    let auxElement = Object.assign({}, element);\n    while (auxElement?.parent?.name !== MENU) {\n        hierarchicalArray.push(auxElement.index);\n        auxElement = auxElement.parent;\n    }\n    hierarchicalArray.push(auxElement.index)\n    return hierarchicalArray;\n}\n\nconst setCategoryPage = function (page , category , hierarchicalArray) {\n\n    let actualCategory = page.categories;\n    let indexCategory = hierarchicalArray.pop();\n\n    while (actualCategory && hierarchicalArray.length > 0) {\n        actualCategory = actualCategory[indexCategory].categories;\n        indexCategory = hierarchicalArray.pop();\n    }\n    actualCategory[indexCategory] = category;\n}\n\n//Metodo encargado de recorrer el arbol de subcategorias hasta encontrar la que corresponde\nconst loadCategory = function (pages, category, element) {\n\n    //Generamos un array que contendra las posiciones en la estructura de datos\n    const hierarchicalArray = getHierarchicalArray(element)\n    \n    //Lo cargamos con las posiciones que se extrajeron y se cargan a la pagina\n    const indexPage = hierarchicalArray.pop()\n    const page = pages[indexPage]\n\n    setCategoryPage(page , category , hierarchicalArray)\n}\n\n\nconst loadProduct = function (pages, product, element) {\n\n    //Generamos un array que contendra las posiciones en la estructura de datos\n    const hierarchicalArray = getHierarchicalArray(element)\n\n    const indexPage = hierarchicalArray.pop()\n    const page = pages[indexPage]\n    const indexProduct = hierarchicalArray.shift()\n\n    let actualCategory = page.categories;\n    let indexCategory = hierarchicalArray.pop();\n\n    while (actualCategory && hierarchicalArray.length > 0) {\n        actualCategory = actualCategory[indexCategory].categories;\n        indexCategory = hierarchicalArray.pop();\n    }\n    actualCategory[indexCategory].products[indexProduct] = product;\n}\n\n\nconst globalReducer = (state, action) => {\n\n    const element = action.payload.element;\n\n    let newPages, categoryToChange, productToChange;\n\n    if (!element) return state;\n\n    switch (element.name) {\n\n        \n        case ALERT:\n            return {\n                ...state,\n                activeAlert: action.payload.alert\n            }\n\n        case MENU:\n\n            return menuReducer(state, action);\n\n        case PAGE:\n\n            newPages = Object.assign([], state.pages)\n            \n            newPages[element.index] = pageReducer(element.json, action);\n\n            return {\n                ...state,\n                pages: newPages\n            };\n\n        case CATEGORY:\n\n\n            newPages = Object.assign([], state.pages)\n\n            categoryToChange = categoryReducer(Object.assign({}, element.json), action);\n\n            loadCategory(newPages, categoryToChange, element)\n\n            return {\n                ...state,\n                pages: newPages\n            }\n\n        case PRODUCT:\n\n            newPages = Object.assign([], state.pages);\n\n            productToChange = productReducer(Object.assign({}, element.json), action);\n            \n            loadProduct(newPages, productToChange, element)\n\n            return {\n                ...state,\n                pages: newPages\n            }\n\n        default:\n\n            return state;\n    }\n\n};\n\nexport default globalReducer;","import { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport {  createStore } from 'redux';\n\nimport { fetchData } from './components/GetComponents/Getters';\n\nimport MenuView from \"./components/ViewComponents/MenuView\";\n\nimport globalReducer from './components/ReducersComponents/GlobalReducer';\n\nimport './styles/app.scss';\n\nconst App = function () {\n\n  const [data, setData] = useState([]);\n  \n   useEffect(() => {fetchData(setData)},[])\n\n  const appReducer = (state = { ...data, actualPage: 0 }, action) => {\n    return action.payload ? globalReducer(state,action) : state;\n  }\n  \n  return (\n    <>\n      {data && data?.pages &&\n        <Provider store={createStore(appReducer)}>\n          <MenuView></MenuView>\n        </Provider>}\n      {(!data || !data?.pages) && <span className=\"waiting-text\">{\"Cargando Menu \\n\"}<strong>(Espere Por Favor)</strong></span>}\n    </>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}